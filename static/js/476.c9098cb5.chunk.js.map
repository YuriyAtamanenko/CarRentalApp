{"version":3,"file":"static/js/476.c9098cb5.chunk.js","mappings":"wNAAaA,EAAgB,SAAAC,GAAK,OAAIA,EAAMC,QAAQC,OAAQ,E,6BCO7C,SAASC,IACtB,IAAMC,GAAWC,EAAAA,EAAAA,MACXJ,GAAUK,EAAAA,EAAAA,IAAYP,GAC5BQ,GAAkCC,EAAAA,EAAAA,WAAS,GAAKC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAzCI,EAASF,EAAA,GAAEG,EAAYH,EAAA,GAC9BI,GAAgCL,EAAAA,EAAAA,UAAS,GAAEM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAApCE,EAAQD,EAAA,GAAEE,EAAWF,EAAA,GAC5BG,GAA8CT,EAAAA,EAAAA,UAAS,MAAKU,GAAAR,EAAAA,EAAAA,GAAAO,EAAA,GAArDE,EAAeD,EAAA,GAAEE,EAAkBF,EAAA,IAE1CG,EAAAA,EAAAA,YAAU,WACRjB,GAASkB,EAAAA,EAAAA,KACX,GAAG,CAAClB,KAEJiB,EAAAA,EAAAA,YAAU,WACRN,GAAYd,EAAQsB,QAAUtB,EAAQsB,OAAS,EAC3CX,GAAa,GACbA,GAAa,EACnB,GAAG,CAACG,EAAUd,EAAQsB,SAwBtB,OACEC,EAAAA,EAAAA,MAAA,WAAAC,SAAA,EACEC,EAAAA,EAAAA,KAACC,EAAAA,EAAM,CAACC,YApBQ,SAAHC,GAKV,IAJLC,EAAYD,EAAZC,aACAC,EAAaF,EAAbE,cACAC,EAAWH,EAAXG,YACAC,EAASJ,EAATI,UAEMC,EAAYjC,EAAQkC,QACxB,SAAAC,GAAA,IAAGC,EAAID,EAAJC,KAAMC,EAAWF,EAAXE,YAAaC,EAAOH,EAAPG,QAAO,OAC3BF,EAAKG,SAASV,IACdW,OAAOH,EAAYI,MAAM,EAAGJ,EAAYf,UAAYQ,GACpDQ,GAAWP,GACXO,GAAWN,CAAS,IAGxBb,EAAmBc,GACnBtB,GAAa,EACf,IAKKO,GACCO,EAAAA,EAAAA,KAACiB,EAAAA,EAAW,CAAC1C,QAASkB,EAAgBuB,MAAM,EAAG3B,MAE/CW,EAAAA,EAAAA,KAACiB,EAAAA,EAAW,CAAC1C,QAASA,EAAQyC,MAAM,EAAG3B,KAGxCJ,IAAae,EAAAA,EAAAA,KAACkB,EAAAA,EAAW,CAACC,eA/BR,WACrB7B,GAAY,SAAA8B,GAAS,OAAIA,EAAY,CAAC,GACxC,MAgCF,C","sources":["redux/Catalog/selectors.js","pages/CatalogPage/CatalogPage.jsx"],"sourcesContent":["export const selectCatalog = state => state.catalog.adverts;\n","import { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport CatalogList from 'components/Catalog/CatalogList/CatalogList';\nimport { getAll } from 'redux/Catalog/operations';\nimport { selectCatalog } from 'redux/Catalog/selectors';\nimport LoadMoreBtn from 'components/LoadMoreBtn/LoadMoreBtn';\nimport Filter from 'components/Filter/Filter';\nexport default function Catalog() {\n  const dispatch = useDispatch();\n  const catalog = useSelector(selectCatalog);\n  const [isShowBtn, setIsShowBtn] = useState(true);\n  const [pageCtrl, setPageCtrl] = useState(8);\n  const [filteredAdverts, setFilteredAdverts] = useState(null);\n\n  useEffect(() => {\n    dispatch(getAll());\n  }, [dispatch]);\n\n  useEffect(() => {\n    pageCtrl >= catalog.length || catalog.length < 9\n      ? setIsShowBtn(false)\n      : setIsShowBtn(true);\n  }, [pageCtrl, catalog.length]);\n\n  const onShowNextPage = () => {\n    setPageCtrl(prevState => prevState + 8);\n  };\n\n  const onFiltering = ({\n    selectedMake,\n    selectedPrice,\n    fromMiliage,\n    toMiliage,\n  }) => {\n    const filtering = catalog.filter(\n      ({ make, rentalPrice, mileage }) =>\n        make.includes(selectedMake) &&\n        Number(rentalPrice.slice(1, rentalPrice.length)) <= selectedPrice &&\n        mileage >= fromMiliage &&\n        mileage <= toMiliage\n    );\n\n    setFilteredAdverts(filtering);\n    setIsShowBtn(false);\n  };\n\n  return (\n    <section>\n      <Filter onFiltering={onFiltering} />\n      {filteredAdverts ? (\n        <CatalogList catalog={filteredAdverts.slice(0, pageCtrl)} />\n      ) : (\n        <CatalogList catalog={catalog.slice(0, pageCtrl)} />\n      )}\n\n      {isShowBtn && <LoadMoreBtn onShowNextPage={onShowNextPage} />}\n    </section>\n  );\n}\n"],"names":["selectCatalog","state","catalog","adverts","Catalog","dispatch","useDispatch","useSelector","_useState","useState","_useState2","_slicedToArray","isShowBtn","setIsShowBtn","_useState3","_useState4","pageCtrl","setPageCtrl","_useState5","_useState6","filteredAdverts","setFilteredAdverts","useEffect","getAll","length","_jsxs","children","_jsx","Filter","onFiltering","_ref","selectedMake","selectedPrice","fromMiliage","toMiliage","filtering","filter","_ref2","make","rentalPrice","mileage","includes","Number","slice","CatalogList","LoadMoreBtn","onShowNextPage","prevState"],"sourceRoot":""}